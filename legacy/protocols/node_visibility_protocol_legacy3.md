# Node Visibility Protocol

**Status:** Harmonized – Consent-Based Reveal Logic  
**Location:** `/docs/realms/resonance_network/node_visibility_protocol.md`

---

## Purpose

This protocol defines how and when a user’s symbolic node and profile elements become visible within the Resonance Network constellation map. Visibility is now governed by user-initiated discovery, narrative interaction, and explicit, multi-stage consent—never by pre-calculated resonance thresholds.

---

## General Node Visibility in Constellation Map

- **Eligibility:** Only users who have completed the Portal Realm (including their UserValueProfile, Initiation Glyph, Echo Phrase, and introductory video) and have consented to participate in the Resonance Network are visible as User Nodes.
- **Constellation Map:** All eligible User Nodes appear as luminous points on the map. No nodes are hidden based on IRS or resonance score.
- **Resonance Priming:** Nodes with higher qualitative resonance potential (IRS) may appear more luminous or have brighter pathways for the viewing user, but this does not affect basic visibility.

---

## Information Revealed on Hover (Resonance Glimpse)

When a user hovers over a User Node, the following minimal, abstracted information is shown:
- **Name/Pseudonym**
- **Initiation Glyph**
- **Echo Phrase**
- **Qualitative Resonance Potential Score** (e.g., "High Resonance Potential"), but never a direct IRS percentage

No direct contact or detailed profile information is revealed at this stage.

---

## Information Revealed on Click (Pre-Duet Video Viewing)

Clicking a User Node opens a focused panel:
- **Introductory Video** of the selected user plays
- **Name/Pseudonym** is displayed
- **Key Abstract Resonant Elements** (e.g., shared anchor themes, symbolic motifs)

This is the entry point for initiating a Narrative Duet (see `narrative_duet_protocol.md`).

---

## Post-Narrative Duet Reveal Stages (Consensual Unveiling)

After a successful Narrative Duet (compatibility test):
1. **Initiator Consent:** User A (initiator) consents to share their video/profile with User B (target).
2. **Target Consent:** User B is notified, views User A’s video/profile, and consents to share theirs in return and connect.
3. **Mutual Reveal:** Only after both consents are given are full User Node identities and profiles mutually revealed.
4. **Direct Communication:** Enabled only upon further mutual consent.

For full details, see [`narrative_duet_protocol.md`](../portal/narrative_duet_protocol.md).

---

## User Control & Privacy Settings

- **Participation:** Users can opt in or out of the Resonance Network at any time.
- **Visibility Controls:** (Planned) Users may have future options for "incognito" browsing or finer-grained control over which elements are shown in the Resonance Glimpse, but currently, these are globally set for consistency.
- **Consent Oversight:** Nyxa (privacy/consent agent) oversees all consent flows and user privacy.

---

## Consent Logic

- **Consent to Appear:** Users must explicitly consent to have their node visible in the Resonance Network.
- **Consent to Reveal:** All profile/video reveals beyond the Resonance Glimpse require explicit, sequential, mutual consent as described above.
- **Consent to Communicate:** Direct messaging or further contact is only enabled after mutual agreement.

---

## Visuals for Disengaged Connections (Resonance Fade)

- If a previously formed connection becomes inactive or is consciously "unbonded" by either user, the visual pathway between their nodes fades or dims, leaving a poetic trace (e.g., "The light dims, but something lingers").
- Node visibility itself is not affected by resonance score drops; only the visual representation of the connection changes.

---

## References
- [`resonance_network_specification.md`](resonance_network_specification.md)
- [`narrative_duet_protocol.md`](../portal/narrative_duet_protocol.md)
- [`resonance_logic_protocol.md`](resonance_logic_protocol.md)
